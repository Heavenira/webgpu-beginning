"use strict";(()=>{async function i(){if(!navigator.gpu)throw new Error("WebGPU not supported on this browser.");let e=await navigator.gpu.requestAdapter();if(!e)throw new Error("No appropriate GPUAdapter found.");let a=await e.requestDevice(),t=document.querySelector("canvas");if(!t)throw new Error("No canvas detected on page.");let n=t.getContext("webgpu");if(!n)throw new Error("Failed to acquire canvas context.");let o=navigator.gpu.getPreferredCanvasFormat(),r={device:a,format:o};return n.configure(r),{device:a,context:n}}async function c(){let{device:e,context:a}=await i(),t=e.createCommandEncoder(),n={view:a.getCurrentTexture().createView(),loadOp:"clear",storeOp:"store",clearValue:{r:0,g:0,b:.4,a:1}};t.beginRenderPass({colorAttachments:[n]}).end(),e.queue.submit([t.finish()])}async function s(){await c()}s();})();
